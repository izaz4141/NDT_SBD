import{i as m,r as p,o as a,c as l,a as e,F as N,f as S,w as k,v as C,n as f,u as v,t as D,l as V,I as T,m as A,j as h,q as B,s as U,x as E,y as q,z as I}from"./index.139a053b.js";const L={class:"my-6"},P={class:"flex flex-col justify-center w-[90%] m-auto"},z=e("thead",{class:"w-full"},[e("tr",{class:"flex justify-around"},[e("th",{class:"w-[10%]",scope:"col"},"Id"),e("th",{class:"w-[20%]",scope:"col"},"Nama"),e("th",{class:"w-[20%]",scope:"col"},"Tipe"),e("th",{class:"w-[10%]",scope:"col"},"Status"),e("th",{class:"w-[20%]",scope:"col"},"Actions")])],-1),M={scope:"row",class:"w-[10%] overflow-auto flex items-center justify-center"},O=["onClick"],R={class:"w-[20%] overflow-auto"},G={key:0},H={key:1},J={class:"w-[20%] overflow-auto"},K={key:0},Q={key:1},W={class:"w-[10%] justify-center flex items-center overflow-auto"},X={key:0,disabled:"",class:"bg-violet-500 hover:bg-violet-400 text-white font-bold py-1 px-2 rounded-t brightness-50 cursor-not-allowed"},Y=["onClick"],Z={class:"w-[20%]"},ee={class:"flex gap-2 justify-center items-center"},te=["onClick"],oe=["onClick"],se=["onClick"],ae={__name:"TabelDaftarAlat",setup(F){const w=m("currentColor"),d=m("user"),_=m("data_alat"),n=p({}),c=p(""),i=p(""),g=t=>{n.value={},n.value[t.id]=!0,c.value=t.name,i.value=t.tipe},b=()=>{n.value={}},j=async t=>{try{await h.post("/edit_inventaris",{item_id:t,name:c.value,tipe:i.value}),await y(),n.value={}}catch(o){console.log(o)}},$=async t=>{try{await h.post("/remove_inventaris",{item_id:t}),await y()}catch(o){console.log(o)}},y=async()=>{if(d.value)try{const t=await h.post("/inventaris_list",{author_level:d.value.author_level});_.value=t.data}catch(t){console.log(t)}else router.push("/")},x=t=>{navigator.clipboard.writeText(t)},r=async t=>{try{await h.post("/meminjam",{item_id:t,user_id:d.value.id}),await y()}catch(o){console.log(o)}};return(t,o)=>(a(),l("div",L,[e("table",P,[z,e("tbody",null,[(a(!0),l(N,null,S(v(_),s=>(a(),l("tr",{key:s.id,class:"border-b border-gray-700 flex justify-around w-full items-center"},[e("th",M,[e("button",{onClick:u=>x(s.id),class:"bg-sky-500 hover:bg-sky-400 text-white font-bold py-1 px-2 rounded-t"}," Copy ",8,O)]),e("td",R,[n.value[s.id]?(a(),l("div",G,[k(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=u=>c.value=u),class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:f({borderColor:v(w)})},null,4),[[C,c.value]])])):(a(),l("div",H,D(s.name),1))]),e("td",J,[n.value[s.id]?(a(),l("div",K,[k(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=u=>i.value=u),class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:f({borderColor:v(w)})},null,4),[[C,i.value]])])):(a(),l("div",Q,D(s.tipe),1))]),e("td",W,[s.peminjaman.id?(a(),l("button",X," Dipinjam ")):(a(),l("button",{key:1,onClick:u=>r(s.id),class:"bg-violet-500 hover:bg-violet-400 text-white font-bold py-1 px-2 rounded-t"}," Pinjam ",8,Y))]),e("td",Z,[e("div",ee,[n.value[s.id]?(a(),l("button",{key:0,onClick:u=>j(s.id),class:"bg-green-500 hover:bg-green-400 text-white font-bold py-1 px-4 rounded-t"}," Save ",8,te)):(a(),l("button",{key:1,onClick:u=>g(s),class:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-1 px-4 rounded-t"}," Edit ",8,oe)),e("button",{onClick:u=>$(s.id),class:"bg-red-500 hover:bg-red-400 text-white font-bold py-1 px-4 rounded-t"}," Delete ",8,se),n.value[s.id]?(a(),l("button",{key:2,onClick:b,class:"text-3xl rounded-full h-min w-min absolute right-4"},[V(v(T),{icon:"ic:twotone-cancel"})])):A("",!0)])])]))),128))])])]))}},le={class:"flex flex-col justify-center my-12 text-center md:text-sm text-xs"},ne=e("h1",null,"Daftar Peralatan",-1),re={class:"flex justify-around items-center"},de=e("label",{htmlFor:"name",class:"mr-4 font-bold"},"Nama",-1),ce=e("label",{htmlFor:"tipe",class:"mr-4 font-bold"},"Tipe",-1),ue={__name:"DaftarAlat",setup(F){const w=B(),d=p([]),_=p([]),n=p(""),c=p(""),i=p(""),g=m("user"),b=m("currentColor");U("data_alat",_);const j=async()=>{try{await h.post("/add_inventaris",{name:n.value,tipe:c.value}),await x()}catch(r){console.log(r)}},$=(r,t)=>r.filter(o=>Object.keys(o).some(s=>typeof o[s]=="string"&&o[s].toLowerCase().includes(t.toLowerCase()))),y=()=>{const r=$(d.value,i.value);_.value=r},x=async()=>{if(g.value)try{const r=await h.post("/inventaris_list",{author_level:g.value.author_level});d.value=r.data}catch(r){console.log(r)}else w.push("/")};return E(async()=>{await x(),_.value=d.value}),q(d,()=>{y()},{deep:!0}),(r,t)=>(a(),l("div",le,[ne,V(I,{searchClass:"w-[24rem] h-10 pl-8 pr-2 rounded-lg",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o),inputClass:"text-sm md:text-base",submitFunc:y,class:"m-auto my-4",style:f({borderColor:v(b)})},null,8,["modelValue","style"]),e("div",re,[e("div",null,[de,k(e("input",{type:"name",class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:f({borderColor:v(b)}),"onUpdate:modelValue":t[1]||(t[1]=o=>n.value=o)},null,4),[[C,n.value]])]),e("div",null,[ce,k(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>c.value=o),class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:f({borderColor:v(b)})},null,4),[[C,c.value]])]),e("button",{onClick:j,class:"bg-gray-600 hover:bg-gray-500 text-white py-2 px-3"}," Add ")]),V(ae)]))}};export{ue as default};
