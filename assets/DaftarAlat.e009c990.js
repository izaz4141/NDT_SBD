import{l as B,i as w,r as u,o as l,c as n,b as e,F as N,g as S,w as k,v as C,n as f,d as y,t as A,A as D,I as T,x as U,k as m,m as E,y as I,z as L,B as P}from"./index.28155aa0.js";const q={class:"my-6"},z={class:"flex flex-col justify-center w-[90%] m-auto"},M=e("thead",{class:"w-full"},[e("tr",{class:"flex justify-around"},[e("th",{class:"w-[10%]",scope:"col"},"Id"),e("th",{class:"w-[20%]",scope:"col"},"Nama"),e("th",{class:"w-[20%]",scope:"col"},"Tipe"),e("th",{class:"w-[10%]",scope:"col"},"Status"),e("th",{class:"w-[20%]",scope:"col"},"Actions")])],-1),O={scope:"row",class:"w-[10%] overflow-auto flex items-center justify-center"},R=["onClick"],G={class:"w-[20%] overflow-auto"},H={key:0},J={key:1},K={class:"w-[20%] overflow-auto"},Q={key:0},W={key:1},X={class:"w-[10%] justify-center flex items-center overflow-auto"},Y=["onClick"],Z={key:1,disabled:"",class:"bg-violet-500 hover:bg-violet-400 text-white font-bold py-1 px-2 rounded-t brightness-50 cursor-not-allowed"},ee={class:"w-[20%]"},te={class:"flex gap-2 justify-center items-center"},oe=["onClick"],se=["onClick"],ae=["onClick"],le={__name:"TabelDaftarAlat",setup(F){const j=B(),p=w("currentColor"),v=w("user"),h=w("data_alat"),r=u({}),c=u(""),_=u(""),g=t=>{r.value={},r.value[t.id]=!0,c.value=t.name,_.value=t.tipe},$=()=>{r.value={}},V=async t=>{try{await m.post("/edit_inventaris",{item_id:t,name:c.value,tipe:_.value}),await b(),r.value={}}catch(a){console.log(a)}},x=async t=>{try{await m.post("/remove_inventaris",{item_id:t}),await b()}catch(a){console.log(a)}},b=async()=>{if(v.value)try{const t=await m.post("/inventaris_list",{author_level:v.value.author_level});h.value=t.data}catch(t){console.log(t)}else j.push("/")},s=t=>{navigator.clipboard.writeText(t)},d=async t=>{try{await m.post("/meminjam",{item_id:t,user_id:v.value.id}),await b()}catch(a){console.log(a)}};return(t,a)=>(l(),n("div",q,[e("table",z,[M,e("tbody",null,[(l(!0),n(N,null,S(y(h),o=>(l(),n("tr",{key:o.id,class:"border-b border-gray-700 flex justify-around w-full items-center"},[e("th",O,[e("button",{onClick:i=>s(o.id),class:"bg-sky-500 hover:bg-sky-400 text-white font-bold py-1 px-2 rounded-t"}," Copy ",8,R)]),e("td",G,[r.value[o.id]?(l(),n("div",H,[k(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>c.value=i),class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:f({borderColor:y(p)})},null,4),[[C,c.value]])])):(l(),n("div",J,A(o.name),1))]),e("td",K,[r.value[o.id]?(l(),n("div",Q,[k(e("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=i=>_.value=i),class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:f({borderColor:y(p)})},null,4),[[C,_.value]])])):(l(),n("div",W,A(o.tipe),1))]),e("td",X,[o.peminjaman.tanggal_pengembalian||o.peminjaman.id===null?(l(),n("button",{key:0,onClick:i=>d(o.id),class:"bg-violet-500 hover:bg-violet-400 text-white font-bold py-1 px-2 rounded-t"}," Pinjam ",8,Y)):(l(),n("button",Z," Dipinjam "))]),e("td",ee,[e("div",te,[r.value[o.id]?(l(),n("button",{key:0,onClick:i=>V(o.id),class:"bg-green-500 hover:bg-green-400 text-white font-bold py-1 px-4 rounded-t"}," Save ",8,oe)):(l(),n("button",{key:1,onClick:i=>g(o),class:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-1 px-4 rounded-t"}," Edit ",8,se)),e("button",{onClick:i=>x(o.id),class:"bg-red-500 hover:bg-red-400 text-white font-bold py-1 px-4 rounded-t"}," Delete ",8,ae),r.value[o.id]?(l(),n("button",{key:2,onClick:$,class:"text-3xl rounded-full h-min w-min absolute right-4"},[D(y(T),{icon:"ic:twotone-cancel"})])):U("",!0)])])]))),128))])])]))}},ne={class:"flex flex-col justify-center my-12 text-center md:text-sm text-xs"},re=e("h1",null,"Daftar Peralatan",-1),de={class:"flex justify-around items-center"},ce=e("label",{htmlFor:"name",class:"mr-4 font-bold"},"Nama",-1),ie=e("label",{htmlFor:"tipe",class:"mr-4 font-bold"},"Tipe",-1),pe={__name:"DaftarAlat",setup(F){const j=B(),p=u([]),v=u([]),h=u(""),r=u(""),c=u(""),_=w("user"),g=w("currentColor");E("data_alat",v);const $=async()=>{try{await m.post("/add_inventaris",{name:h.value,tipe:r.value}),await b()}catch(s){console.log(s)}},V=(s,d)=>s.filter(t=>Object.keys(t).some(a=>typeof t[a]=="string"&&t[a].toLowerCase().includes(d.toLowerCase()))),x=()=>{const s=V(p.value,c.value);v.value=s},b=async()=>{if(_.value)try{const s=await m.post("/inventaris_list",{author_level:_.value.author_level});p.value=s.data,console.log(s.data)}catch(s){console.log(s)}else j.push("/")};return I(async()=>{await b(),v.value=p.value}),L(p,()=>{x()},{deep:!0}),(s,d)=>(l(),n("div",ne,[re,D(P,{searchClass:"w-[24rem] h-10 pl-8 pr-2 rounded-lg",modelValue:c.value,"onUpdate:modelValue":d[0]||(d[0]=t=>c.value=t),inputClass:"text-sm md:text-base",submitFunc:x,class:"m-auto my-4",style:f({borderColor:y(g)})},null,8,["modelValue","style"]),e("div",de,[e("div",null,[ce,k(e("input",{type:"name",class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:f({borderColor:y(g)}),"onUpdate:modelValue":d[1]||(d[1]=t=>h.value=t)},null,4),[[C,h.value]])]),e("div",null,[ie,k(e("input",{type:"text","onUpdate:modelValue":d[2]||(d[2]=t=>r.value=t),class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:f({borderColor:y(g)})},null,4),[[C,r.value]])]),e("button",{onClick:$,class:"bg-gray-600 hover:bg-gray-500 text-white py-2 px-3"}," Add ")]),D(le)]))}};export{pe as default};
