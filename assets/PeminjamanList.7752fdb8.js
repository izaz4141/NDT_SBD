import{i as h,o as l,c as n,b as e,F as j,g as C,t as m,d as g,k as f,x as k,r as v,l as B,y as V,z as $,A as w,n as P,B as F}from"./index.49591cfe.js";const L={class:"my-6"},S={class:"flex flex-col justify-center w-[90%] m-auto"},T=e("thead",{class:"w-full"},[e("tr",{class:"flex justify-around"},[e("th",{class:"w-[10%]",scope:"col"},"Id"),e("th",{class:"w-[15%]",scope:"col"},"Nama Alat"),e("th",{class:"w-[15%]",scope:"col"},"Peminjam"),e("th",{class:"w-[15%]",scope:"col"},"Tanggal Pengambilan"),e("th",{class:"w-[15%]",scope:"col"},"Tanggal Pengembalian"),e("th",{class:"w-[20%]",scope:"col"},"Actions")])],-1),A={scope:"row",class:"w-[10%] overflow-auto flex items-center justify-center"},K=["onClick"],N={class:"w-[15%] overflow-auto"},q={class:"w-[15%] overflow-auto"},z={class:"w-[15%] overflow-auto"},I={class:"w-[15%] overflow-auto"},D={class:"w-[20%]"},E={class:"flex gap-2 justify-center items-center"},M={key:0,disabled:"",class:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-1 px-4 rounded-t cursor-not-allowed brightness-50"},O=["onClick"],R={__name:"TabelPeminjaman",setup(x){const u=h("user"),o=h("data_peminjaman"),c=async(a,_)=>{try{await f.post("/pengembalian",{peminjaman_id:a,item_id:_}),await r()}catch(t){console.log(t)}},r=async()=>{if(u.value)try{const a=await f.post("/peminjaman_list",{author_level:u.value.author_level});o.value=a.data}catch(a){console.log(a)}else router.push("/")},d=a=>{navigator.clipboard.writeText(a)};return(a,_)=>(l(),n("div",L,[e("table",S,[T,e("tbody",null,[(l(!0),n(j,null,C(g(o),t=>(l(),n("tr",{key:t.id,class:"border-b border-gray-700 flex justify-around w-full items-center"},[e("th",A,[e("button",{onClick:b=>d(t.id),class:"bg-sky-500 hover:bg-sky-400 text-white font-bold py-1 px-2 rounded-t"}," Copy ",8,K)]),e("td",N,[e("div",null,m(t.item.name),1)]),e("td",q,[e("div",null,m(t.peminjam.name),1)]),e("td",z,[e("div",null,m(t.tanggal_pengambilan),1)]),e("td",I,[e("div",null,m(t.tanggal_pengembalian),1)]),e("td",D,[e("div",E,[t.tanggal_pengembalian?(l(),n("button",M," Sudah Kembali ")):(l(),n("button",{key:1,onClick:b=>c(t.id,t.item.id),class:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-1 px-4 rounded-t"}," Kembalikan ",8,O))])])]))),128))])])]))}},U={class:"flex flex-col justify-center my-12 text-center md:text-sm text-xs"},G=e("h1",null,"Inventaris",-1),J={__name:"PeminjamanList",setup(x){const u=k(),o=v([]),c=v([]),r=v(""),d=h("user"),a=h("currentColor");B("data_peminjaman",c);const _=(s,p)=>s.filter(i=>Object.keys(i).some(y=>typeof i[y]=="string"&&i[y].toLowerCase().includes(p.toLowerCase()))),t=()=>{const s=_(o.value,r.value);c.value=s},b=async()=>{if(d.value)try{const s=await f.post("/peminjaman_list",{author_level:d.value.author_level});o.value=s.data}catch(s){console.log(s)}else u.push("/")};return V(async()=>{await b(),c.value=o.value}),$(o,()=>{t()},{deep:!0}),(s,p)=>(l(),n("div",U,[G,w(F,{searchClass:"w-[24rem] h-10 pl-8 pr-2 rounded-lg",modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=i=>r.value=i),inputClass:"text-sm md:text-base",submitFunc:t,class:"m-auto my-4",style:P({borderColor:g(a)})},null,8,["modelValue","style"]),w(R)]))}};export{J as default};
