import{l as g,i as p,o as n,c,b as e,F as C,g as k,t as m,d as x,k as f,r as v,m as B,y as V,z as $,A as w,n as P,B as F}from"./index.3a2d2e3d.js";const L={class:"my-6"},S={class:"flex flex-col justify-center w-[90%] m-auto"},T=e("thead",{class:"w-full"},[e("tr",{class:"flex justify-around"},[e("th",{class:"w-[10%]",scope:"col"},"Id"),e("th",{class:"w-[15%]",scope:"col"},"Nama Alat"),e("th",{class:"w-[15%]",scope:"col"},"Peminjam"),e("th",{class:"w-[15%]",scope:"col"},"Tanggal Pengambilan"),e("th",{class:"w-[15%]",scope:"col"},"Tanggal Pengembalian"),e("th",{class:"w-[20%]",scope:"col"},"Actions")])],-1),A={scope:"row",class:"w-[10%] overflow-auto flex items-center justify-center"},K=["onClick"],N={class:"w-[15%] overflow-auto"},q={class:"w-[15%] overflow-auto"},z={class:"w-[15%] overflow-auto"},I={class:"w-[15%] overflow-auto"},D={class:"w-[20%]"},E={class:"flex gap-2 justify-center items-center"},M={key:0,disabled:"",class:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-1 px-4 rounded-t cursor-not-allowed brightness-50"},O=["onClick"],R={__name:"TabelPeminjaman",setup(j){const h=g(),o=p("user"),l=p("data_peminjaman"),r=async(a,i)=>{try{await f.post("/pengembalian",{peminjaman_id:a,item_id:i}),await d()}catch(t){console.log(t)}},d=async()=>{if(o.value)try{const a=await f.post("/peminjaman_list",{author_level:o.value.author_level});l.value=a.data}catch(a){console.log(a)}else h.push("/")},b=a=>{navigator.clipboard.writeText(a)};return(a,i)=>(n(),c("div",L,[e("table",S,[T,e("tbody",null,[(n(!0),c(C,null,k(x(l),t=>(n(),c("tr",{key:t.id,class:"border-b border-gray-700 flex justify-around w-full items-center"},[e("th",A,[e("button",{onClick:s=>b(t.id),class:"bg-sky-500 hover:bg-sky-400 text-white font-bold py-1 px-2 rounded-t"}," Copy ",8,K)]),e("td",N,[e("div",null,m(t.item.name),1)]),e("td",q,[e("div",null,m(t.peminjam.name),1)]),e("td",z,[e("div",null,m(t.tanggal_pengambilan),1)]),e("td",I,[e("div",null,m(t.tanggal_pengembalian),1)]),e("td",D,[e("div",E,[t.tanggal_pengembalian?(n(),c("button",M," Sudah Kembali ")):(n(),c("button",{key:1,onClick:s=>r(t.id,t.item.id),class:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-1 px-4 rounded-t"}," Kembalikan ",8,O))])])]))),128))])])]))}},U={class:"flex flex-col justify-center my-12 text-center md:text-sm text-xs"},G=e("h1",null,"Inventaris",-1),J={__name:"PeminjamanList",setup(j){const h=g(),o=v([]),l=v([]),r=v(""),d=p("user"),b=p("currentColor");B("data_peminjaman",l);const a=(s,_)=>s.filter(u=>Object.keys(u).some(y=>typeof u[y]=="string"&&u[y].toLowerCase().includes(_.toLowerCase()))),i=()=>{const s=a(o.value,r.value);l.value=s},t=async()=>{if(d.value)try{const s=await f.post("/peminjaman_list",{author_level:d.value.author_level});o.value=s.data}catch(s){console.log(s)}else h.push("/")};return V(async()=>{await t(),l.value=o.value}),$(o,()=>{i()},{deep:!0}),(s,_)=>(n(),c("div",U,[G,w(F,{searchClass:"w-[24rem] h-10 pl-8 pr-2 rounded-lg",modelValue:r.value,"onUpdate:modelValue":_[0]||(_[0]=u=>r.value=u),inputClass:"text-sm md:text-base",submitFunc:i,class:"m-auto my-4",style:P({borderColor:x(b)})},null,8,["modelValue","style"]),w(R)]))}};export{J as default};
