import{i as m,r as p,o as l,c as n,b as e,F as B,g as F,w as k,v as C,n as g,d as v,t as D,A as V,I as N,s as S,k as h,x as T,l as U,y as E,z as I,B as L}from"./index.3a153a27.js";const P={class:"my-6"},q={class:"flex flex-col justify-center w-[90%] m-auto"},z=e("thead",{class:"w-full"},[e("tr",{class:"flex justify-around"},[e("th",{class:"w-[10%]",scope:"col"},"Id"),e("th",{class:"w-[20%]",scope:"col"},"Nama"),e("th",{class:"w-[20%]",scope:"col"},"Tipe"),e("th",{class:"w-[10%]",scope:"col"},"Status"),e("th",{class:"w-[20%]",scope:"col"},"Actions")])],-1),M={scope:"row",class:"w-[10%] overflow-auto flex items-center justify-center"},O=["onClick"],R={class:"w-[20%] overflow-auto"},G={key:0},H={key:1},J={class:"w-[20%] overflow-auto"},K={key:0},Q={key:1},W={class:"w-[10%] justify-center flex items-center overflow-auto"},X=["onClick"],Y={key:1,disabled:"",class:"bg-violet-500 hover:bg-violet-400 text-white font-bold py-1 px-2 rounded-t brightness-50 cursor-not-allowed"},Z={class:"w-[20%]"},ee={class:"flex gap-2 justify-center items-center"},te=["onClick"],oe=["onClick"],se=["onClick"],ae={__name:"TabelDaftarAlat",setup(A){const w=m("currentColor"),d=m("user"),_=m("data_alat"),r=p({}),c=p(""),i=p(""),f=t=>{r.value={},r.value[t.id]=!0,c.value=t.name,i.value=t.tipe},b=()=>{r.value={}},j=async t=>{try{await h.post("/edit_inventaris",{item_id:t,name:c.value,tipe:i.value}),await y(),r.value={}}catch(o){console.log(o)}},$=async t=>{try{await h.post("/remove_inventaris",{item_id:t}),await y()}catch(o){console.log(o)}},y=async()=>{if(d.value)try{const t=await h.post("/inventaris_list",{author_level:d.value.author_level});_.value=t.data}catch(t){console.log(t)}else router.push("/")},x=t=>{navigator.clipboard.writeText(t)},a=async t=>{try{await h.post("/meminjam",{item_id:t,user_id:d.value.id}),await y()}catch(o){console.log(o)}};return(t,o)=>(l(),n("div",P,[e("table",q,[z,e("tbody",null,[(l(!0),n(B,null,F(v(_),s=>(l(),n("tr",{key:s.id,class:"border-b border-gray-700 flex justify-around w-full items-center"},[e("th",M,[e("button",{onClick:u=>x(s.id),class:"bg-sky-500 hover:bg-sky-400 text-white font-bold py-1 px-2 rounded-t"}," Copy ",8,O)]),e("td",R,[r.value[s.id]?(l(),n("div",G,[k(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=u=>c.value=u),class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:g({borderColor:v(w)})},null,4),[[C,c.value]])])):(l(),n("div",H,D(s.name),1))]),e("td",J,[r.value[s.id]?(l(),n("div",K,[k(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=u=>i.value=u),class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:g({borderColor:v(w)})},null,4),[[C,i.value]])])):(l(),n("div",Q,D(s.tipe),1))]),e("td",W,[s.peminjaman.tanggal_pengembalian||s.peminjaman.id===null?(l(),n("button",{key:0,onClick:u=>a(s.id),class:"bg-violet-500 hover:bg-violet-400 text-white font-bold py-1 px-2 rounded-t"}," Pinjam ",8,X)):(l(),n("button",Y," Dipinjam "))]),e("td",Z,[e("div",ee,[r.value[s.id]?(l(),n("button",{key:0,onClick:u=>j(s.id),class:"bg-green-500 hover:bg-green-400 text-white font-bold py-1 px-4 rounded-t"}," Save ",8,te)):(l(),n("button",{key:1,onClick:u=>f(s),class:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-1 px-4 rounded-t"}," Edit ",8,oe)),e("button",{onClick:u=>$(s.id),class:"bg-red-500 hover:bg-red-400 text-white font-bold py-1 px-4 rounded-t"}," Delete ",8,se),r.value[s.id]?(l(),n("button",{key:2,onClick:b,class:"text-3xl rounded-full h-min w-min absolute right-4"},[V(v(N),{icon:"ic:twotone-cancel"})])):S("",!0)])])]))),128))])])]))}},le={class:"flex flex-col justify-center my-12 text-center md:text-sm text-xs"},ne=e("h1",null,"Daftar Peralatan",-1),re={class:"flex justify-around items-center"},de=e("label",{htmlFor:"name",class:"mr-4 font-bold"},"Nama",-1),ce=e("label",{htmlFor:"tipe",class:"mr-4 font-bold"},"Tipe",-1),ue={__name:"DaftarAlat",setup(A){const w=T(),d=p([]),_=p([]),r=p(""),c=p(""),i=p(""),f=m("user"),b=m("currentColor");U("data_alat",_);const j=async()=>{try{await h.post("/add_inventaris",{name:r.value,tipe:c.value}),await x()}catch(a){console.log(a)}},$=(a,t)=>a.filter(o=>Object.keys(o).some(s=>typeof o[s]=="string"&&o[s].toLowerCase().includes(t.toLowerCase()))),y=()=>{const a=$(d.value,i.value);_.value=a},x=async()=>{if(f.value)try{const a=await h.post("/inventaris_list",{author_level:f.value.author_level});d.value=a.data,console.log(a.data)}catch(a){console.log(a)}else w.push("/")};return E(async()=>{await x(),_.value=d.value}),I(d,()=>{y()},{deep:!0}),(a,t)=>(l(),n("div",le,[ne,V(L,{searchClass:"w-[24rem] h-10 pl-8 pr-2 rounded-lg",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o),inputClass:"text-sm md:text-base",submitFunc:y,class:"m-auto my-4",style:g({borderColor:v(b)})},null,8,["modelValue","style"]),e("div",re,[e("div",null,[de,k(e("input",{type:"name",class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:g({borderColor:v(b)}),"onUpdate:modelValue":t[1]||(t[1]=o=>r.value=o)},null,4),[[C,r.value]])]),e("div",null,[ce,k(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>c.value=o),class:"px-4 py-1 bg-white dark:bg-gray-900 rounded-md border-1",style:g({borderColor:v(b)})},null,4),[[C,c.value]])]),e("button",{onClick:j,class:"bg-gray-600 hover:bg-gray-500 text-white py-2 px-3"}," Add ")]),V(ae)]))}};export{ue as default};
